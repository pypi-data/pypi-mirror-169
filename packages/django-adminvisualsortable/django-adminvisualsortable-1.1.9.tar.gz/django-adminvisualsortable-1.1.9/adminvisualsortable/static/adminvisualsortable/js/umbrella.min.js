var u=function(a,b){return this instanceof u?a instanceof u?a:((a="string"==typeof a?this.select(a,b):a)&&a.nodeName&&(a=[a]),void (this.nodes=this.slice(a))):new u(a,b)};u.prototype={get length(){return this.nodes.length}},u.prototype.nodes=[],u.prototype.addClass=function(){return this.eacharg(arguments,function(a,b){a.classList.add(b)})},u.prototype.adjacent=function(c,b,a){return"number"==typeof b&&(b=0===b?[]:new Array(b).join().split(",").map(Number.call,Number)),this.each(function(g,d){var f=document.createDocumentFragment();u(b||{}).map(function(h,i){i="function"==typeof c?c.call(this,h,i,g,d):c;return"string"==typeof i?this.generate(i):u(i)}).each(function(e){this.isInPage(e)?f.appendChild(u(e).clone().first()):f.appendChild(e)}),a.call(this,g,f)})},u.prototype.after=function(a,b){return this.adjacent(a,b,function(c,d){c.parentNode.insertBefore(d,c.nextSibling)})},u.prototype.append=function(a,b){return this.adjacent(a,b,function(c,d){c.appendChild(d)})},u.prototype.args=function(a,b,c){return(a="string"!=typeof(a="function"==typeof a?a(b,c):a)?this.slice(a).map(this.str(b,c)):a).toString().split(/[\s,]+/).filter(function(d){return d.length})},u.prototype.array=function(b){var a=this;return this.nodes.reduce(function(c,f,g){var d;return b?(d="string"==typeof(d=(d=b.call(a,f,g))||!1)?u(d):d) instanceof u&&(d=d.nodes):d=f.innerHTML,c.concat(!1!==d?d:[])},[])},u.prototype.attr=function(a,c,b){return b=b?"data-":"",this.pairs(a,c,function(d,f){return d.getAttribute(b+f)},function(d,f,g){g?d.setAttribute(b+f,g):d.removeAttribute(b+f)})},u.prototype.before=function(a,b){return this.adjacent(a,b,function(c,d){c.parentNode.insertBefore(d,c)})},u.prototype.children=function(a){return this.map(function(b){return this.slice(b.children)}).filter(a)},u.prototype.clone=function(){return this.map(function(a,c){var d=a.cloneNode(!0),b=this.getAll(d);return this.getAll(a).each(function(f,g){for(var h in this.mirror){this.mirror[h]&&this.mirror[h](f,b.nodes[g])}}),d})},u.prototype.getAll=function(a){return u([a].concat(u("*",a).nodes))},u.prototype.mirror={},u.prototype.mirror.events=function(a,b){if(a._e){for(var c in a._e){a._e[c].forEach(function(d){u(b).on(c,d.callback)})}}},u.prototype.mirror.select=function(a,b){u(a).is("select")&&(b.value=a.value)},u.prototype.mirror.textarea=function(a,b){u(a).is("textarea")&&(b.value=a.value)},u.prototype.closest=function(a){return this.map(function(b){do{if(u(b).is(a)){return b}}while((b=b.parentNode)&&b!==document)})},u.prototype.data=function(a,b){return this.attr(a,b,!0)},u.prototype.each=function(a){return this.nodes.forEach(a.bind(this)),this},u.prototype.eacharg=function(b,a){return this.each(function(d,c){this.args(b,d,c).forEach(function(e){a.call(this,d,e)},this)})},u.prototype.empty=function(){return this.each(function(a){for(;a.firstChild;){a.removeChild(a.firstChild)}})},u.prototype.filter=function(b){var a=b instanceof u?function(c){return -1!==b.nodes.indexOf(c)}:"function"==typeof b?b:function(c){return c.matches=c.matches||c.msMatchesSelector||c.webkitMatchesSelector,c.matches(b||"*")};return u(this.nodes.filter(a))},u.prototype.find=function(a){return this.map(function(b){return u(a||"*",b)})},u.prototype.first=function(){return this.nodes[0]||!1},u.prototype.generate=function(a){return/^\s*<tr[> ]/.test(a)?u(document.createElement("table")).html(a).children().children().nodes:/^\s*<t(h|d)[> ]/.test(a)?u(document.createElement("table")).html(a).children().children().children().nodes:/^\s*</.test(a)?u(document.createElement("div")).html(a).children().nodes:document.createTextNode(a)},u.prototype.handle=function(){var a=this.slice(arguments).map(function(b){return"function"==typeof b?function(c){c.preventDefault(),b.apply(this,arguments)}:b},this);return this.on.apply(this,a)},u.prototype.hasClass=function(){return this.is("."+this.args(arguments).join("."))},u.prototype.html=function(a){return void 0===a?this.first().innerHTML||"":this.each(function(b){b.innerHTML=a})},u.prototype.is=function(a){return 0<this.filter(a).length},u.prototype.isInPage=function(a){return a!==document.body&&document.body.contains(a)},u.prototype.last=function(){return this.nodes[this.length-1]||!1},u.prototype.map=function(a){return a?u(this.array(a)).unique():this},u.prototype.not=function(a){return this.filter(function(b){return !u(b).is(a||!0)})},u.prototype.off=function(b,d,g){var c=null==d&&null==g,f=null,a=d;return"string"==typeof d&&(f=d,a=g),this.eacharg(b,function(h,i){u(h._e?h._e[i]:[]).each(function(e){(c||e.orig_callback===a&&e.selector===f)&&h.removeEventListener(i,e.callback)})})},u.prototype.on=function(b,f,g){function a(c,i){try{Object.defineProperty(c,"currentTarget",{value:i,configurable:!0})}catch(c){}}var j=null,h=f;"string"==typeof f&&(j=f,h=g,f=function(e){var c=arguments;u(e.currentTarget).find(j).each(function(i){var k;i.contains(e.target)&&(k=e.currentTarget,a(e,i),g.apply(i,c),a(e,k))})});function d(c){return f.apply(this,[c].concat(c.detail||[]))}return this.eacharg(b,function(c,i){c.addEventListener(i,d),c._e=c._e||{},c._e[i]=c._e[i]||[],c._e[i].push({callback:d,orig_callback:h,selector:j})})},u.prototype.pairs=function(b,a,c,d){var f;return void 0!==a&&(f=b,(b={})[f]=a),"object"==typeof b?this.each(function(g,h){for(var i in b){"function"==typeof b[i]?d(g,i,b[i](g,h)):d(g,i,b[i])}}):this.length?c(this.first(),b):""},u.prototype.param=function(a){return Object.keys(a).map(function(b){return this.uri(b)+"="+this.uri(a[b])}.bind(this)).join("&")},u.prototype.parent=function(a){return this.map(function(b){return b.parentNode}).filter(a)},u.prototype.prepend=function(a,b){return this.adjacent(a,b,function(c,d){c.insertBefore(d,c.firstChild)})},u.prototype.remove=function(){return this.each(function(a){a.parentNode&&a.parentNode.removeChild(a)})},u.prototype.removeClass=function(){return this.eacharg(arguments,function(a,b){a.classList.remove(b)})},u.prototype.replace=function(a,b){var c=[];return this.adjacent(a,b,function(d,f){c=c.concat(this.slice(f.children)),d.parentNode.replaceChild(f,d)}),u(c)},u.prototype.scroll=function(){return this.first().scrollIntoView({behavior:"smooth"}),this},u.prototype.select=function(a,b){return a=a.replace(/^\s*/,"").replace(/\s*$/,""),/^</.test(a)?u().generate(a):(b||document).querySelectorAll(a)},u.prototype.serialize=function(){var a=this;return this.slice(this.first().elements).reduce(function(b,c){return !c.name||c.disabled||"file"===c.type||/(checkbox|radio)/.test(c.type)&&!c.checked?b:"select-multiple"===c.type?(u(c.options).each(function(d){d.selected&&(b+="&"+a.uri(c.name)+"="+a.uri(d.value))}),b):b+"&"+a.uri(c.name)+"="+a.uri(c.value)},"").slice(1)},u.prototype.siblings=function(a){return this.parent().children(a).not(this)},u.prototype.size=function(){return this.first().getBoundingClientRect()},u.prototype.slice=function(a){return a&&0!==a.length&&"string"!=typeof a&&"[object Function]"!==a.toString()?a.length?[].slice.call(a.nodes||a):[a]:[]},u.prototype.str=function(a,b){return function(c){return"function"==typeof c?c.call(this,a,b):c.toString()}},u.prototype.text=function(a){return void 0===a?this.first().textContent||"":this.each(function(b){b.textContent=a})},u.prototype.toggleClass=function(a,b){return !!b===b?this[b?"addClass":"removeClass"](a):this.eacharg(a,function(c,d){c.classList.toggle(d)})},u.prototype.trigger=function(a){var b=this.slice(arguments).slice(1);return this.eacharg(a,function(c,f){var g,d={bubbles:!0,cancelable:!0,detail:b};try{g=new window.CustomEvent(f,d)}catch(c){(g=document.createEvent("CustomEvent")).initCustomEvent(f,!0,!0,b)}c.dispatchEvent(g)})},u.prototype.unique=function(){return u(this.nodes.reduce(function(a,b){return null!=b&&!1!==b&&-1===a.indexOf(b)?a.concat(b):a},[]))},u.prototype.uri=function(a){return encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},u.prototype.wrap=function(a){return this.map(function(b){return u(a).each(function(c){!function(d){for(;d.firstElementChild;){d=d.firstElementChild}return u(d)}(c).append(b.cloneNode(!0)),b.parentNode.replaceChild(c,b)})})},"object"==typeof module&&module.exports&&(module.exports=u,module.exports.u=u);