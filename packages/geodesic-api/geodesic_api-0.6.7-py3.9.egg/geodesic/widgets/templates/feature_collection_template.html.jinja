{% extends "fc_base.html.jinja" %}
{% block content %}
<div class="fc_card">
  <div class="fc_inner scroll-style">
    <img class="fc_center" src="https://seerai.space/images/Logo.svg"></img>
    <h3 class="card-title">{{ fc.dataset.alias }}</h3>
    <div class="fc_content scroll-style">
      <div class="text-box text-description">
        <p class="card-text text-description"><b>Returned Features:</b> {{ vals.n_feats }}</p>
      </div>
      <h3 class="features-header">Features</h3>
      {% for feat in fc.features %}
      <div class="feature">
        <button type="button" class="collapsible">ID: {{ feat.id }} - {{ feat.geometry.type or "no geometry" }}</button>
        <div class="coll_content">
            <ul>
            {% for prop, val in feat.properties.items() %}
                <li> {{ prop|e }} : {{ val|e }}</li>
            {% endfor %}
            </ul>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<script>
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    }
  });
}
</script>
{% endblock content %}