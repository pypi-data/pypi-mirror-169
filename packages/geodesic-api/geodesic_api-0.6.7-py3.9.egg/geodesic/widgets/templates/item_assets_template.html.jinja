{% extends "item_assets_base.html.jinja" %}
{% block content %}
<div class="item_assets_card">
  <div class="item_assets_inner scroll-style">
    <img class="item_assets_center" src="https://seerai.space/images/Logo.svg"></img>
    <h2 class="card-title">{{ item_assets._ds_name }}</h3>
    <div class="item_assets_content scroll-style">
      <div class="text-box text-description">
        <p class="card-text text-description"><b>Number of Assets:</b> {{ item_assets | length() }}</p>
      </div>
      <h3 class="item_assets-header">Asset Details</h3>
      {% for item_asset_name, asset_info in item_assets.items() %}
      <div class="item_asset">
        <button type="button" class="collapsible">{{ item_asset_name }} - {{ item_asset_info.title }}</button>
        <div class="coll_content">
            <ul>
            {% for prop, val in asset_info.items() %}
                {% if prop == 'eo' %}
                {% for eo_n, eo_i in val.item_assets[0].items() %}
                    <li> {{ eo_n }}: {{ eo_i }} </li>
                {% endfor %}
                {% else %}
                    <li> {{ prop|e }} : {{ val|e }}</li>
                {% endif %}
            {% endfor %}
            </ul>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<script>
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    }
  });
}
</script>
{% endblock content %}