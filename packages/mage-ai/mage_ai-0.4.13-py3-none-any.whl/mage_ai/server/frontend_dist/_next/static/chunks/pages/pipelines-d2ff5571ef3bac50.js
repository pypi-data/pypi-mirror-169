(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1221],{66757:function(n,e,t){"use strict";var r=t(19319),i=t(94178),u=t(67240),o="localStorage"in t.g&&t.g.localStorage?t.g.localStorage:r;function c(n,e){return 1===arguments.length?a(n):l(n,e)}function a(n){const e=o.getItem(n);return i(e)}function l(n,e){try{return o.setItem(n,JSON.stringify(e)),!0}catch(t){return!1}}c.set=l,c.get=a,c.remove=function(n){return o.removeItem(n)},c.clear=function(){return o.clear()},c.backend=function(n){return n&&(o=n),o},c.on=u.on,c.off=u.off,n.exports=c},94178:function(n){"use strict";n.exports=function(n){const e=function(n){try{return JSON.parse(n)}catch(e){return n}}(n);return void 0===e?null:e}},19319:function(n){"use strict";var e={};n.exports={getItem:function(n){return n in e?e[n]:null},setItem:function(n,t){return e[n]=t,!0},removeItem:function(n){return!!(n in e)&&delete e[n]},clear:function(){return e={},!0}}},67240:function(n,e,t){"use strict";var r=t(94178),i={};function u(n){n||(n=t.g.event);var e=i[n.key];e&&e.forEach((function(e){e(r(n.newValue),r(n.oldValue),n.url||n.uri)}))}n.exports={on:function(n,e){i[n]?i[n].push(e):i[n]=[e],t.g.addEventListener?t.g.addEventListener("storage",u,!1):t.g.attachEvent?t.g.attachEvent("onstorage",u):t.g.onstorage=u},off:function(n,e){var t=i[n];t.length>1?t.splice(t.indexOf(e),1):i[n]=[]}}},86422:function(n,e,t){"use strict";t.d(e,{$W:function(){return l},DA:function(){return a},Qj:function(){return s},Ut:function(){return g},V4:function(){return p},f2:function(){return d},iZ:function(){return f},t6:function(){return u},tf:function(){return o}});var r,i,u,o,c=t(82394);!function(n){n.PYTHON="python",n.SQL="sql"}(u||(u={})),function(n){n.CHART="chart",n.DATA_EXPORTER="data_exporter",n.DATA_LOADER="data_loader",n.SCRATCHPAD="scratchpad",n.SENSOR="sensor",n.TRANSFORMER="transformer"}(o||(o={}));var a,l=[o.CHART,o.DATA_EXPORTER,o.DATA_LOADER,o.SCRATCHPAD,o.SENSOR,o.TRANSFORMER],s=[o.CHART,o.SCRATCHPAD,o.SENSOR],f=[o.SCRATCHPAD];!function(n){n.EXECUTED="executed",n.FAILED="failed",n.NOT_EXECUTED="not_executed",n.UPDATED="updated"}(a||(a={}));var d=[o.DATA_EXPORTER,o.TRANSFORMER],p=(r={},(0,c.Z)(r,o.DATA_EXPORTER,"Data exporter"),(0,c.Z)(r,o.DATA_LOADER,"Data loader"),(0,c.Z)(r,o.SCRATCHPAD,"Scratchpad"),(0,c.Z)(r,o.SENSOR,"Sensor"),(0,c.Z)(r,o.TRANSFORMER,"Transformer"),r),g=[o.DATA_LOADER,o.TRANSFORMER,o.DATA_EXPORTER];i={},(0,c.Z)(i,o.DATA_EXPORTER,"DE"),(0,c.Z)(i,o.DATA_LOADER,"DL"),(0,c.Z)(i,o.SCRATCHPAD,"SP"),(0,c.Z)(i,o.SENSOR,"SR"),(0,c.Z)(i,o.TRANSFORMER,"TF")},93348:function(n,e,t){"use strict";t.d(e,{U5:function(){return c},Xm:function(){return i},Z4:function(){return a},fq:function(){return o}});var r,i,u=t(82394);!function(n){n.API="api",n.EVENT="event",n.TIME="time"}(i||(i={}));var o,c,a=(r={},(0,u.Z)(r,i.API,(function(){return"API"})),(0,u.Z)(r,i.EVENT,(function(){return"event"})),(0,u.Z)(r,i.TIME,(function(){return"schedule"})),r);!function(n){n.ACTIVE="active",n.INACTIVE="inactive"}(o||(o={})),function(n){n.ONCE="@once",n.HOURLY="@hourly",n.DAILY="@daily",n.WEEKLY="@weekly",n.MONTHLY="@monthly"}(c||(c={}))},5545:function(n,e,t){"use strict";t.r(e);var r=t(82394),i=t(12757),u=t(82684),o=t(83455),c=t(34376),a=t(86422),l=t(60328),s=t(48933),f=t(93461),d=t(31866),p=t(17903),g=t(19711),h=t(41374),v=t(10503),E=t(99994),A=t(93348),m=t(49125),T=t(96510),R=t(66653),w=t(5679),D=t(28598);function O(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function b(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?O(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}e.default=function(){var n=(0,c.useRouter)(),e=(0,u.useState)({}),t=e[0],O=e[1],y=h.ZP.pipelines.list({include_schedules:1}),P=y.data,S=y.mutate,C=(0,u.useMemo)((function(){return(null===P||void 0===P?void 0:P.pipelines)||[]}),[P]),N=(0,o.Db)(h.ZP.pipelines.useCreate(),{onSuccess:function(e){return(0,T.wD)(e,{callback:function(e){var t=e.pipeline.uuid;n.push("/pipelines/[pipeline]/edit","/pipelines/".concat(t,"/edit"))},onErrorCallback:function(n){var e=n.error,t=e.errors,r=e.message;console.log(t,r)}})}}),Z=(0,i.Z)(N,2),_=Z[0],k=Z[1].isLoading,j=(0,o.Db)((function(n){return h.ZP.pipelines.useUpdate(n.uuid)({pipeline:n})}),{onSuccess:function(n){return(0,T.wD)(n,{callback:function(n){var e=n.pipeline.uuid;O((function(n){return b(b({},n),{},(0,r.Z)({},e,!1))})),S()},onErrorCallback:function(n){var e=n.error,t=e.errors,r=e.message;console.log(t,r)}})}}),x=(0,i.Z)(j,1)[0];return(0,D.jsx)(s.Z,{subheaderChildren:(0,D.jsx)(d.ZP,{background:E.eW,bold:!0,beforeElement:(0,D.jsx)(v.mm,{size:2.5*m.iI}),inline:!0,loading:k,onClick:function(){return _({pipeline:{name:(0,w.Y6)()}})},uuid:"PipelineListPage/new_pipeline",children:"New pipeline"}),title:"Pipelines",uuid:"pipelines/index",children:(0,D.jsx)(p.Z,{buildLinkProps:function(n){return{as:"/pipelines/".concat(C[n].uuid),href:"/pipelines/[pipeline]"}},columns:[{label:function(){return""},uuid:"action"},{uuid:"Status"},{uuid:"Name"},{uuid:"Blocks"},{uuid:"Triggers"},{label:function(){return""},uuid:"view"}],columnFlex:[null,1,7,1,1,null],rows:C.map((function(n){var e=n.blocks,i=n.name,u=n.schedules,o=n.uuid,c=e.filter((function(n){var e=n.type;return a.tf.SCRATCHPAD!==e})).length,s=u.length,d=u.find((function(n){var e=n.status;return A.fq.ACTIVE===e}));return[s>=1?(0,D.jsx)(l.Z,{loading:!!t[o],iconOnly:!0,noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(e){(0,R.j)(e),O((function(n){return b(b({},n),{},(0,r.Z)({},o,!0))})),x(b(b({},n),{},{status:d?A.fq.INACTIVE:A.fq.ACTIVE}))},children:d?(0,D.jsx)(v.dz,{muted:!0,size:2*m.iI}):(0,D.jsx)(v.Py,{default:!0,size:2*m.iI})}):null,(0,D.jsx)(g.ZP,{default:!d,monospace:!0,success:d,children:d?A.fq.ACTIVE:s>=1?A.fq.INACTIVE:"no schedules"}),(0,D.jsx)(g.ZP,{children:i}),(0,D.jsx)(g.ZP,{default:0===c,monospace:!0,children:c}),(0,D.jsx)(g.ZP,{default:0===s,monospace:!0,children:s}),(0,D.jsx)(f.Z,{flex:1,justifyContent:"flex-end",children:(0,D.jsx)(v._Q,{default:!0,size:2*m.iI})})]}))})})}},66653:function(n,e,t){"use strict";function r(n){return n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,n.returnValue=!1,!1}t.d(e,{j:function(){return r}})},5679:function(n,e,t){"use strict";t.d(e,{OC:function(){return f},n1:function(){return d},RA:function(){return h},kC:function(){return v},vg:function(){return O},JX:function(){return E},T3:function(){return P},Mp:function(){return A},Pb:function(){return p},kE:function(){return b},HD:function(){return g},wX:function(){return m},x6:function(){return T},_6:function(){return R},Y6:function(){return C},Lo:function(){return N},Tz:function(){return y},QV:function(){return S},C5:function(){return D}});var r=t(12757),i=["aged","ancient","autumn","billowing","bitter","black","blue","bold","broken","cold","cool","crimson","damp","dark","dawn","delicate","divine","dry","empty","falling","floral","fragrant","frosty","green","hidden","holy","icy","late","lingering","little","lively","long","misty","morning","muddy","nameless","old","patient","polished","proud","purple","quiet","red","restless","rough","shy","silent","small","snowy","solitary","sparkling","spring","still","summer","throbbing","twilight","wandering","weathered","white","wild","winter","wispy","withered","young"],u=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],o=t(92083),c=t.n(o),a=["bird","breeze","brook","bush","butterfly","cherry","cloud","darkness","dawn","dew","dream","dust","feather","field","fire","firefly","flower","fog","forest","frog","frost","glade","glitter","grass","haze","hill","lake","leaf","meadow","moon","morning","mountain","night","paper","pine","pond","rain","resonance","river","sea","shadow","shape","silence","sky","smoke","snow","snowflake","sound","star","sun","sun","sunset","surf","thunder","tree","violet","voice","water","water","waterfall","wave","wildflower","wind","wood"],l=["0","1","2","3","4","5","6","7","8","9"],s=t(24224),f="YYYY-MM-DD HH:mm:SS",d="YYYY-MM-DD";function p(n){try{JSON.parse(n)}catch(e){return!1}return!0}function g(n){return"string"===typeof n}function h(n){return n.split(" ").join("_")}function v(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}function E(n){return c().unix(n).format("YYYY-MM-DD HH:mm")}function A(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return String((new Date).getTime()*n)}function m(n){return n.charAt(0).toLowerCase()+n.slice(1)}function T(n){if(null===n||"undefined"===typeof n)return"";var e=n.toString().split("."),t=(0,r.Z)(e,2),i=t[0],u=t[1],o=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return u?"".concat(o,".").concat(u):o}function R(n,e){var t,r=e,i=void 0!==r&&null!==r;if(i||(r=2),1===r)t=n;else{var u=n.length,o=n[u-1];t="y"===o&&"day"!==n?"".concat(n.slice(0,u-1),"ies"):"".concat(n,"s"===o?"es":"s")}return i?"".concat(r," ").concat(t):t}function w(n){return null===n||void 0===n?void 0:n.replace(/_/g," ")}function D(n){var e=n.length;return"ies"===n.slice(e-3,e)?"".concat(n.slice(0,e-3),"y"):"es"===n.slice(e-2,e)?n.slice(0,e-2):n.slice(0,e-1)}function O(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v(w(n.toLowerCase()))}function b(n){return!isNaN(n)}function y(n){var e,t=n.match(/\d+(\.?\d*)%/)||[];return Number(null===(e=t[0])||void 0===e?void 0:e.slice(0,-1))}function P(n){return"".concat(T(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round((n||0)*Math.pow(100,e))/100}(n)),"%")}function S(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=Math.pow(10,e);return Math.round((n||0)*t)/t}function C(){return"".concat((0,s.mp)(i)," ").concat((0,s.mp)(a))}function N(){return"".concat((0,s.mp)(u)).concat((0,s.mp)(l))}},79274:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines",function(){return t(5545)}])}},function(n){n.O(0,[5339,2083,2874,3903,7578,9774,2888,179],(function(){return e=79274,n(n.s=e);var e}));var e=n.O();_N_E=e}]);