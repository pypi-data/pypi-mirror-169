{"version":3,"sources":["mod-nav.js"],"names":["$","MyAMS","MenuHeader","props","text","header","MenuDivider","Menu","items","menu","item","label","link","attr","href","Object","entries","attrs","key","val","icon","addClass","appendTo","badge","status","value","append","render","children","NavigationMenu","menus","parent","settings","nav","undefined","getMenus","init","find","each","idx","elt","menuItem","length","firstLink","sign","closedSign","on","evt","preventDefault","click","subMenu","slideDown","speed","html","openedSign","activeParent","parents","activeItem","currentTarget","hasClass","removeClass","replace","parentUL","accordion","visibleMenus","visibleIndex","visibleElt","close","parentIndex","parentElt","visibleItem","slideUp","delay","firstUL","is","_initialized","_hammer","_openPage","location","startsWith","hash","toString","reload","window","linkClickHandler","Promise","resolve","reject","handlers","data","stopPropagation","url","target","params","indexOf","split","unserialize","hrefGetter","core","getFunctionByName","ctrlKey","open","linkTarget","form","confirmChangedForm","then","result","skin","loadURL","fn","extend","navigationMenu","options","defaults","amsMenuAccordion","config","useSVGIcons","downIcon","FontAwesome","findIconDefinition","iconName","upIcon","menuFactory","getObject","amsMenuFactory","amsMenuConfig","require","ajax","get","checkURL","ajaxNav","document","handler","tagName","table","stats","logEvent","exists","amsUrl","amsTabLoaded","amsTabLoadOnce","remove","isMobile","dom","root","enableFastclick","check","noClickDelay","env","baseURL","extext","Hammer","Manager","add","Pan","direction","DIRECTION_HORIZONTAL","threshold","switchMenu","restoreState","initElement","element","menuSpeed","setActiveMenu","show","scroll","scrollTop","position","top","height","drawBreadcrumbs","crumb","not","template","i18n","HOME","trim","clone","end","minifyMenu","toggleClass","switchIcon","localStorage","setItem","state","getItem","bundle","modules","push","console","debug"],"mappings":"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","sourcesContent":["/* global MyAMS, FontAwesome, Hammer */\n/**\n * MyAMS navigation module\n */\n\nconst $ = MyAMS.$;\n\n\n/**\n * Dynamic navigation menu class\n */\nclass MenuHeader {\n\n\tconstructor(props) {\n\t\tthis.props = props;\n\t}\n\n\trender() {\n\t\treturn $('<li class=\"header\"></li>')\n\t\t\t.text(this.props.header || '');\n\t}\n}\n\nclass MenuDivider {\n\n\trender() {\n\t\treturn $('<li class=\"divider\"></li>');\n\t}\n}\n\nclass Menu {\n\n\tconstructor(items) {\n\t\tthis.items = items;\n\t}\n\n\trender() {\n\t\tconst menu = $('<div></div>');\n\t\tfor (const item of this.items) {\n\t\t\tif (item.label) {\n\t\t\t\tconst\n\t\t\t\t\tprops = $('<li></li>'),\n\t\t\t\t\tlink = $('<a></a>')\n\t\t\t\t\t\t.attr('href', item.href || '#')\n\t\t\t\t\t\t.attr('title', item.label);\n\t\t\t\tfor (const [key, val] of Object.entries(item.attrs || {})) {\n\t\t\t\t\tlink.attr(key, val);\n\t\t\t\t}\n\t\t\t\tif (item.icon) {\n\t\t\t\t\t$('<i class=\"fa-lg fa-fw mr-1\"></i>')\n\t\t\t\t\t\t.addClass(item.icon)\n\t\t\t\t\t\t.appendTo(link);\n\t\t\t\t}\n\t\t\t\t$('<span class=\"menu-item-parent\"></span>')\n\t\t\t\t\t.text(item.label)\n\t\t\t\t\t.appendTo(link);\n\t\t\t\tif (item.badge) {\n\t\t\t\t\t$('<span class=\"badge ml-1 mr-3 float-right\"></span>')\n\t\t\t\t\t\t.addClass(`bg-${item.badge.status}`)\n\t\t\t\t\t\t.text(item.badge.value)\n\t\t\t\t\t\t.appendTo(link);\n\t\t\t\t}\n\t\t\t\tlink.appendTo(props);\n\t\t\t\tif (item.items) {\n\t\t\t\t\t$('<ul></ul>')\n\t\t\t\t\t\t.append(new Menu(item.items).render())\n\t\t\t\t\t\t.appendTo(props);\n\t\t\t\t}\n\t\t\t\tprops.appendTo(menu);\n\t\t\t} else {\n\t\t\t\tnew MenuDivider().render().appendTo(menu);\n\t\t\t}\n\t\t}\n\t\treturn menu.children();\n\t}\n}\n\nexport class NavigationMenu {\n\n\tconstructor(menus, parent, settings) {\n\t\tthis.menus = menus;\n\t\tthis.parent = parent;\n\t\tthis.settings = settings;\n\t}\n\n\tgetMenus() {\n\t\tconst nav = $('<ul></ul>');\n\t\tfor (const props of this.menus) {\n\t\t\tif (props.header !== undefined) {\n\t\t\t\tnav.append(new MenuHeader(props).render());\n\t\t\t}\n\t\t\tnav.append(new Menu(props.items).render());\n\t\t}\n\t\treturn nav;\n\t}\n\n\trender() {\n\t\tconst menus = this.getMenus();\n\t\tthis.init(menus);\n\t\tthis.parent.append(menus);\n\t}\n\n\tinit(menus) {\n\t\tconst settings = this.settings;\n\t\t// add mark to menus with children\n\t\tmenus.find('li').each((idx, elt) => {\n\t\t\tconst menuItem = $(elt);\n\t\t\tif (menuItem.find('ul').length > 0) {\n\t\t\t\tconst firstLink = menuItem.find('a:first');\n\t\t\t\t// add multi-level sign next to link\n\t\t\t\tconst sign = $(`<b class=\"collapse-sign\">${settings.closedSign}</b>`);\n\t\t\t\tsign.on('click', (evt) => {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t\tfirstLink.append(sign);\n\t\t\t\t// avoid jumping to top of page when href is a #\n\t\t\t\tif (firstLink.attr('href') === '#') {\n\t\t\t\t\tfirstLink.click(() => {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// slide down open menus\n\t\tmenus.find('li.open').each((idx, elt) => {\n\t\t\tconst\n\t\t\t\tmenu = $(elt),\n\t\t\t\tsubMenu = $('> ul', menu);\n\t\t\tsubMenu.slideDown(settings.speed);\n\t\t\tmenu.find('>a b.collapse-sign').html(settings.openedSign);\n\t\t});\n\t\t// open active level\n\t\tmenus.find('li.active').each((idx, elt) => {\n\t\t\tconst\n\t\t\t\tactiveParent = $(elt).parents('ul'),\n\t\t\t\tactiveItem = activeParent.parent('li');\n\t\t\tactiveParent.slideDown(settings.speed);\n\t\t\tactiveItem.find('b:first').html(settings.openedSign);\n\t\t\tactiveItem.addClass('open');\n\t\t});\n\t\t// handle click event\n\t\tmenus.find(\"li a\").on('click', (evt) => {\n\t\t\tconst link = $(evt.currentTarget);\n\t\t\tif (link.hasClass('active')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlink.parents('li').removeClass('active');\n\t\t\tconst\n\t\t\t\thref = link.attr('href').replace(/^#/, ''),\n\t\t\t\tparentUL = link.parent().find(\"ul\");\n\t\t\tif (settings.accordion) {\n\t\t\t\tconst\n\t\t\t\t\tparents = link.parent().parents(\"ul\"),\n\t\t\t\t\tvisibleMenus = menus.find(\"ul:visible\");\n\t\t\t\tvisibleMenus.each((visibleIndex, visibleElt) => {\n\t\t\t\t\tlet close = true;\n\t\t\t\t\tparents.each((parentIndex, parentElt) => {\n\t\t\t\t\t\tif (parentElt === visibleElt) {\n\t\t\t\t\t\t\tclose = false;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (close && (parentUL !== visibleElt)) {\n\t\t\t\t\t\tconst visibleItem = $(visibleElt);\n\t\t\t\t\t\tif (href || !visibleItem.hasClass('active')) {\n\t\t\t\t\t\t\tvisibleItem.slideUp(settings.speed, () => {\n\t\t\t\t\t\t\t\tvisibleItem.parent(\"li\")\n\t\t\t\t\t\t\t\t\t.removeClass('open')\n\t\t\t\t\t\t\t\t\t.find(\"b:first\")\n\t\t\t\t\t\t\t\t\t.delay(settings.speed)\n\t\t\t\t\t\t\t\t\t.html(settings.closedSign);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst firstUL = link.parent().find(\"ul:first\");\n\t\t\tif (!href && firstUL.is(\":visible\") && !firstUL.hasClass(\"active\")) {\n\t\t\t\tfirstUL.slideUp(settings.speed, () => {\n\t\t\t\t\tlink.parent(\"li\")\n\t\t\t\t\t\t.removeClass(\"open\")\n\t\t\t\t\t\t.find(\"b:first\")\n\t\t\t\t\t\t.delay(settings.speed)\n\t\t\t\t\t\t.html(settings.closedSign);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfirstUL.slideDown(settings.speed, () => {\n\t\t\t\t\tlink.parent(\"li\")\n\t\t\t\t\t\t.addClass(\"open\")\n\t\t\t\t\t\t.find(\"b:first\")\n\t\t\t\t\t\t.delay(settings.speed)\n\t\t\t\t\t\t.html(settings.openedSign);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n}\n\n\nlet _initialized = false,\n\t_hammer = null;\n\n\n/**\n * Main navigation module\n */\n\nfunction _openPage(href) {\n\tif (location && href.startsWith('#')) {\n\t\tif (href !== location.hash) {\n\t\t\tlocation.hash = href;\n\t\t}\n\t} else {\n\t\tif (location.toString() === href) {\n\t\t\tlocation.reload();\n\t\t} else {\n\t\t\twindow.location = href;\n\t\t}\n\t}\n}\n\n/**\n * Main link click event handler\n *\n * @param evt\n */\nexport function linkClickHandler(evt) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst\n\t\t\tlink = $(evt.currentTarget),\n\t\t\thandlers = link.data('ams-disabled-handlers');\n\t\tif ((handlers === true) || (handlers === 'click') || (handlers === 'all')) {\n\t\t\treturn;\n\t\t}\n\t\tlet href = link.attr('href') || link.data('ams-url');\n\t\tif (!href ||\n\t\t\thref.startsWith('javascript:') ||\n\t\t\tlink.attr('target') ||\n\t\t\t(link.data('ams-context-menu') === true)) {\n\t\t\treturn;\n\t\t}\n\t\tevt.preventDefault();\n\t\tevt.stopPropagation();\n\n\t\tlet url,\n\t\t\ttarget,\n\t\t\tparams;\n\t\tif (href.indexOf('?') >= 0) {\n\t\t\turl = href.split('?');\n\t\t\ttarget = url[0];\n\t\t\tparams = url[1].unserialize();\n\t\t} else {\n\t\t\ttarget = href;\n\t\t\tparams = undefined;\n\t\t}\n\t\tconst hrefGetter = MyAMS.core.getFunctionByName(target);\n\t\tif (typeof hrefGetter === 'function') {\n\t\t\thref = hrefGetter(link, params);\n\t\t}\n\t\tif (!href) {\n\t\t\tresolve(null);\n\t\t}\n\t\telse if (typeof href === 'function') {\n\t\t\tresolve(href(link, params));\n\t\t} else {\n\t\t\t// Standard AJAX or browser URL call\n\t\t\t// Convert %23 characters to #\n\t\t\thref = href.replace(/%23/, '#');\n\t\t\tif (evt.ctrlKey) {\n\t\t\t\twindow.open && window.open(href);\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tconst linkTarget = link.data('ams-target') || link.attr('target');\n\t\t\t\tif (linkTarget) {\n\t\t\t\t\tif (linkTarget === '_blank') {\n\t\t\t\t\t\twindow.open && window.open(href);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t} else if (linkTarget === '_top') {\n\t\t\t\t\t\twindow.location = href;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (MyAMS.form) {\n\t\t\t\t\t\t\tMyAMS.form.confirmChangedForm().then((result) => {\n\t\t\t\t\t\t\t\tif (result !== 'success') {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tMyAMS.skin && MyAMS.skin.loadURL(href, linkTarget,\n\t\t\t\t\t\t\t\t\tlink.data('ams-link-options'),\n\t\t\t\t\t\t\t\t\tlink.data('ams-link-callback')).then(resolve, reject);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tMyAMS.skin && MyAMS.skin.loadURL(href, linkTarget,\n\t\t\t\t\t\t\t\tlink.data('ams-link-options'),\n\t\t\t\t\t\t\t\tlink.data('ams-link-callback')).then(resolve, reject);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (MyAMS.form) {\n\t\t\t\t\t\tMyAMS.form.confirmChangedForm().then((result) => {\n\t\t\t\t\t\t\tif (result !== 'success') {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_openPage(href);\n\t\t\t\t\t\t}).then(resolve);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_openPage(href);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n\n\nexport const nav = {\n\n\t/**\n\t * initialize navigation through data attributes\n\t */\n\tinit: () => {\n\n\t\tif (_initialized) {\n\t\t\treturn;\n\t\t}\n\t\t_initialized = true;\n\n\t\t$.fn.extend({\n\n\t\t\tnavigationMenu: function(options) {\n\t\t\t\tif (this.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst data = this.data();\n\t\t\t\tconst defaults = {\n\t\t\t\t\taccordion: data.amsMenuAccordion !== false,\n\t\t\t\t\tspeed: 200\n\t\t\t\t}\n\t\t\t\tif (MyAMS.config.useSVGIcons) {\n\t\t\t\t\tconst\n\t\t\t\t\t\tdownIcon = FontAwesome.findIconDefinition({iconName: 'angle-down'}),\n\t\t\t\t\t\tupIcon = FontAwesome.findIconDefinition({iconName: 'angle-up'});\n\t\t\t\t\t$.extend(defaults, {\n\t\t\t\t\t\tclosedSign: `<em data-fa-i2svg>${FontAwesome.icon(downIcon).html}</em>`,\n\t\t\t\t\t\topenedSign: `<em data-fa-i2svg>${FontAwesome.icon(upIcon).html}</em>`\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$.extend(defaults, {\n\t\t\t\t\t\tclosedSign: '<em class=\"fa fa-angle-down\"></em>',\n\t\t\t\t\t\topenedSign: '<em class=\"fa fa-angle-up\"></em>'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst\n\t\t\t\t\tsettings = $.extend({}, defaults, options),\n\t\t\t\t\tmenuFactory = MyAMS.core.getObject(data.amsMenuFactory) || NavigationMenu;\n\t\t\t\tif (data.amsMenuConfig) {\n\t\t\t\t\tMyAMS.require('ajax', 'skin').then(() => {\n\t\t\t\t\t\tMyAMS.ajax.get(data.amsMenuConfig).then(result => {\n\t\t\t\t\t\t\tnew menuFactory(result, $(this), settings).render();\n\t\t\t\t\t\t\tMyAMS.skin.checkURL();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {  // static menus\n\t\t\t\t\tconst menus = $('ul', this);\n\t\t\t\t\tnew menuFactory(null, $(this), settings).init(menus);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (MyAMS.config.ajaxNav) {\n\n\t\t\t// Disable clicks on # hrefs\n\t\t\t$(document).on('click', 'a[href=\"#\"]', (evt) => {\n\t\t\t\tevt.preventDefault();\n\t\t\t});\n\n\t\t\t// Activate clicks\n\t\t\t$(document).on('click',\n\t\t\t\t'a[href!=\"#\"]:not([data-toggle]), [data-ams-url]:not([data-toggle])', (evt) => {\n\t\t\t\t// check for specific click handler\n\t\t\t\tconst handler = $(evt).data('ams-click-handler');\n\t\t\t\tif (handler) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// check for DataTable collapse handler\n\t\t\t\tif (evt.target.tagName === 'TD') {\n\t\t\t\t\tconst target = $(evt.target);\n\t\t\t\t\tif (target.hasClass('dtr-control')) {\n\t\t\t\t\t\tconst table = target.parents('table.datatable');\n\t\t\t\t\t\tif (table.hasClass('collapsed')) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn linkClickHandler(evt);\n\t\t\t});\n\n\t\t\t// Blank target clicks\n\t\t\t$(document).on('click', 'a[target=\"_blank\"]', (evt) => {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tconst target = $(evt.currentTarget);\n\t\t\t\twindow.open && window.open(target.attr('href'));\n\t\t\t\tMyAMS.stats && MyAMS.stats.logEvent(\n\t\t\t\t\ttarget.data('ams-stats-category') || 'Navigation',\n\t\t\t\t\ttarget.data('ams-stats-action') || 'External',\n\t\t\t\t\ttarget.data('ams-stats-label') || target.attr('href'));\n\t\t\t});\n\n\t\t\t// Top target clicks\n\t\t\t$(document).on('click', 'a[target=\"_top\"]', (evt) => {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tMyAMS.form && MyAMS.form.confirmChangedForm().then((result) => {\n\t\t\t\t\tif (result !== 'success') {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\twindow.location = $(evt.currentTarget).attr('href');\n\t\t\t\t})\n\t\t\t});\n\n\t\t\t// Disable clicks on disabled tabs\n\t\t\t$(document).on(\"click\", '.nav-tabs a[data-toggle=tab]', (evt) => {\n\t\t\t\tif ($(evt.currentTarget).parent('li').hasClass(\"disabled\")) {\n\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Enable tabs dynamic loading\n\t\t\t$(document).on('show.bs.tab', (evt) => {\n\t\t\t\tlet link = $(evt.target);\n\t\t\t\tif (link.exists() && (link.get(0).tagName !== 'A')) {\n\t\t\t\t\tlink = $('a[href]', link);\n\t\t\t\t}\n\t\t\t\tconst data = link.data();\n\t\t\t\tif (data && data.amsUrl) {\n\t\t\t\t\tif (data.amsTabLoaded) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlink.append('<i class=\"fa fa-spin fa-cog ml-1\"></i>');\n\t\t\t\t\tMyAMS.require('skin').then(() => {\n\t\t\t\t\t\tMyAMS.skin.loadURL(data.amsUrl, link.attr('href')).then(() => {\n\t\t\t\t\t\t\tif (data.amsTabLoadOnce) {\n\t\t\t\t\t\t\t\tdata.amsTabLoaded = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$('i', link).remove();\n\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t$('i', link).remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!MyAMS.config.isMobile) {\n\t\t\t\tMyAMS.dom.root.addClass('desktop-detected');\n\t\t\t} else {\n\t\t\t\tMyAMS.dom.root.addClass('mobile-detected');\n\t\t\t\tMyAMS.require('ajax').then(() => {\n\t\t\t\t\tif (MyAMS.config.enableFastclick) {\n\t\t\t\t\t\tMyAMS.ajax.check($.fn.noClickDelay,\n\t\t\t\t\t\t\t`${MyAMS.env.baseURL}../ext/js-smartclick${MyAMS.env.extext}.js`).then(() => {\n\t\t\t\t\t\t\t$('a', MyAMS.dom.nav).noClickDelay();\n\t\t\t\t\t\t\t$('a', '#hide-menu').noClickDelay();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (MyAMS.dom.root.exists()) {\n\t\t\t\t\t\tMyAMS.ajax.check(window.Hammer,\n\t\t\t\t\t\t\t`${MyAMS.env.baseURL}../ext/hammer${MyAMS.env.extext}.js`).then(() => {\n\t\t\t\t\t\t\t_hammer = new Hammer.Manager(MyAMS.dom.root.get(0));\n\t\t\t\t\t\t\t_hammer.add(new Hammer.Pan({\n\t\t\t\t\t\t\t\tdirection: Hammer.DIRECTION_HORIZONTAL,\n\t\t\t\t\t\t\t\tthreshold: 200\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t_hammer.on('panright', () => {\n\t\t\t\t\t\t\t\tif (!MyAMS.dom.root.hasClass('hidden-menu')) {\n\t\t\t\t\t\t\t\t\tMyAMS.nav.switchMenu();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_hammer.on('panleft', () => {\n\t\t\t\t\t\t\t\tif (MyAMS.dom.root.hasClass('hidden-menu')) {\n\t\t\t\t\t\t\t\t\tMyAMS.nav.switchMenu();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tnav.restoreState();\n\t},\n\n\tinitElement: (element) => {\n\n\t\t$('nav', element).navigationMenu({\n\t\t\tspeed: MyAMS.config.menuSpeed\n\t\t});\n\t},\n\n\t/**\n\t * Display current active menu\n\t *\n \t * @param menu: current active menu\n\t */\n\tsetActiveMenu: (menu) => {\n\t\tconst nav = MyAMS.dom.nav;\n\t\t$('.active', nav).removeClass('active');\n\t\tmenu.addClass('open')\n\t\t\t.addClass('active');\n\t\tmenu.parents('li').addClass('open active')\n\t\t\t.children('ul').addClass('active')\n\t\t\t.show();\n\t\tmenu.parents('li:first').removeClass('open');\n\t\tmenu.parents('ul').addClass(menu.attr('href').replace(/^#/, '') ? 'active' : '')\n\t\t\t.show();\n\t\tif (menu.exists()) {\n\t\t\tconst\n\t\t\t\tscroll = nav.scrollTop(),\n\t\t\t\tposition = $(menu).parents('li:last').position();\n\t\t\tif (position.top < scroll) {\n\t\t\t\tnav.scrollTop(position.top);\n\t\t\t} else if (position.top > nav.height() + scroll) {\n\t\t\t\tnav.scrollTop(position.top);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Internal breadcrumbs drawing function\n\t *\n\t * @private\n\t */\n\tdrawBreadcrumbs: () => {\n\t\tconst crumb = $('ol.breadcrumb', '#ribbon');\n\t\t$('li', crumb).not('.persistent').remove();\n\t\tif (!$('li', crumb).exists()) {\n\t\t\tconst template = `<li class=\"breadcrumb-item\">\n\t\t\t\t\t<a class=\"p-r-1\" href=\"${$('a[href!=\"#\"]:first', MyAMS.dom.nav).attr('href')}\">\n\t\t\t\t\t\t${MyAMS.i18n.HOME}\n\t\t\t\t\t</a>\n\t\t\t\t</li>`;\n\t\t\tcrumb.append($(template));\n\t\t}\n\t\t$('li.active >a', MyAMS.dom.nav).each((idx, elt) => {\n\t\t\tconst\n\t\t\t\tmenu = $(elt),\n\t\t\t\ttext = $.trim(menu.clone()\n\t\t\t\t\t.children('.badge')\n\t\t\t\t\t.remove()\n\t\t\t\t\t.end()\n\t\t\t\t\t.text()),\n\t\t\t\thref = menu.attr('href'),\n\t\t\t\titem = $('<li class=\"breadcrumb-item\"></li>').append(href.replace(/^#/, '') ?\n\t\t\t\t\t$('<a></a>').html(text).attr('href', href) : text);\n\t\t\tcrumb.append(item);\n\t\t});\n\t},\n\n\t/**\n\t * Click handler for navigation menu \"minify\" button\n\t *\n\t * @param evt: original click event\n\t */\n\tminifyMenu: (evt) => {\n\t\tevt && evt.preventDefault();\n\t\tMyAMS.dom.root.toggleClass('minified');\n\t\tif (MyAMS.dom.root.hasClass('minified')) {\n\t\t\tMyAMS.core.switchIcon($('i', evt.currentTarget),\n\t\t\t\t'arrow-circle-left', 'arrow-circle-right');\n\t\t} else {\n\t\t\tMyAMS.core.switchIcon($('i', evt.currentTarget),\n\t\t\t\t'arrow-circle-right', 'arrow-circle-left');\n\t\t}\n\t\tif (window.localStorage) {\n\t\t\tif (MyAMS.dom.root.hasClass('minified')) {\n\t\t\t\tlocalStorage.setItem('window-state', 'minified');\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('window-state', '');\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Click handler for menu hide button\n\t *\n\t * @param evt: original click event\n\t */\n\tswitchMenu: (evt) => {\n\t\tevt && evt.preventDefault();\n\t\tMyAMS.dom.root.toggleClass('hidden-menu');\n\t\tif (window.localStorage) {\n\t\t\tif (MyAMS.dom.root.hasClass('hidden-menu')) {\n\t\t\t\tlocalStorage.setItem('window-state', 'hidden-menu');\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('window-state', '');\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Restore window state on application startup\n\t *\n\t * Previous window state is stored in local storage.\n\t */\n\trestoreState: () => {\n\t\t// restore window state\n\t\tif (window.localStorage) {\n\t\t\tconst state = localStorage.getItem('window-state');\n\t\t\tif (state === 'minified') {\n\t\t\t\tMyAMS.nav.minifyMenu({\n\t\t\t\t\tcurrentTarget: $('#minifyme'),\n\t\t\t\t\tpreventDefault: () => {}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tMyAMS.dom.root.addClass(state);\n\t\t\t}\n\t\t}\n\t}\n};\n\n\n/**\n * Global module initialization\n */\nif (MyAMS.env.bundle) {\n\tMyAMS.config.modules.push('nav');\n} else {\n\tMyAMS.nav = nav;\n\tconsole.debug(\"MyAMS: nav module loaded...\");\n}\n"],"file":"mod-nav-dev.js"}