!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),e.modHelpers=t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e){"use strict";function r(e,t){if(null==e)return{};var n,o=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n]);return o}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0}),e.helpers=void 0;var i=MyAMS.$,t={clearValue:function(e){e=i(e.currentTarget).data("target");e&&i(e).val(null)},clearDatetimeValue:function(e){e=i(e.currentTarget).data("target"),e=i(e).data("datetimepicker");e&&e.date(null)},scrollTo:function(e,t,n){var o=0<arguments.length&&void 0!==e?e:"#content",r=1<arguments.length?t:void 0,a=c({},2<arguments.length?n:void 0);"string"==typeof r&&(r=i(r)),r.exists()&&MyAMS.require("ajax").then(function(){MyAMS.ajax.check(i.fn.scrollTo,"".concat(MyAMS.env.baseURL,"../ext/jquery-scrollto").concat(MyAMS.env.extext,".js")).then(function(){i(o).scrollTo(r,a)})})},setLoginHash:function(){var e=i("#login_form");i('input[name="login_form.widgets.hash"]',e).val(window.location.hash)},setSEOStatus:function(e){var t=i(e.target),n=t.siblings(".progress").children(".progress-bar"),e=Math.min(t.val().length,100),t="success";e<20||80<e?t="danger":(e<40||66<e)&&(t="warning"),n.removeClassPrefix("bg-").addClass("bg-"+t).css("width",e+"%")},select2ChangeHelper:function(e){var t,e=i(e.currentTarget),n=e.data(),o=i(n.amsSelect2HelperTarget);"html"===n.amsSelect2HelperType?(o.html('<div class="text-center"><i class="fas fa-2x fa-spinner fa-spin"></i></div>'),(t={})[n.amsSelect2HelperArgument||"value"]=e.val(),i.get(n.amsSelect2HelperUrl,t).then(function(e){(MyAMS.core.getFunctionByName(n.amsSelect2HelperCallback)||function(e){e?(o.html(e),MyAMS.core.initContent(o).then()):o.empty()})(e)}).catch(function(){o.empty()})):(t=n.amsSelect2HelperCallback)&&MyAMS.core.executeFunctionByName(t,e,n)},refreshElement:function(e,r){return new Promise(function(t,n){var o=i('[id="'.concat(r.object_id,'"]'));MyAMS.core.executeFunctionByName(MyAMS.config.clearContent,document,o).then(function(){o.replaceWith(i(r.content));var e=(o=i('[id="'.concat(r.object_id,'"]'))).parents().first();MyAMS.core.executeFunctionByName(MyAMS.config.initContent,document,e).then(function(){t(o)},n)},n)})},refreshWidget:function(e,r){return new Promise(function(e,t){var n=i('[id="'.concat(r.widget_id,'"]')),o=n.parents(".widget-group");MyAMS.core.executeFunctionByName(MyAMS.config.clearContent,document,o).then(function(){o.replaceWith(i(r.content)),n=i('[id="'.concat(r.widget_id,'"]')),o=n.parents(".widget-group"),MyAMS.core.executeFunctionByName(MyAMS.config.initContent,document,o).then(function(){e(n)},t)},t)})},addTableRow:function(e,a){return new Promise(function(e,t){var n,o='table[id="'.concat(a.table_id,'"]'),r=i(o),o=r.DataTable();a.data?(o.rows.add(a.data).draw(),n=i('tr[id="'.concat(a.row_id,'"]'),r),e(n)):(n=i(a.content),o.rows.add(n).draw(),MyAMS.core.executeFunctionByName(MyAMS.config.initContent,document,n).then(function(){e(n)},t))})},refreshTableRow:function(e,c){return new Promise(function(e,t){var n,o='tr[id="'.concat(c.row_id,'"]'),r=i(o),a=r.parents("table").first();c.data?i.fn.DataTable?(a=a.DataTable(),"string"==typeof c.data?(a.row(o).remove(),a.row.add(i(c.data)).draw()):a.row(o).data(c.data).draw(),e(r)):t("No DataTable plug-in available!"):(n=i(c.content),r.replaceWith(n),MyAMS.core.executeFunctionByName(MyAMS.config.initContent,document,n).then(function(){e(n)},t))})},refreshImage:function(e,t){i('[id="'.concat(t.image_id,'"]')).attr("src",t.src)},moveElementToParentEnd:function(e){var t=e.parent();return e.detach().appendTo(t)},addElementToParent:function(e,t){var n=t.element,o=t.parent,t=r(t,["element","parent"]),n=i(n),o=i(o),o=n.appendTo(o);return t.scrollTo&&MyAMS.helpers.scrollTo(t.scrollParent,n),o},hideDropdown:function(e){i(e.target).closest(".dropdown-menu").dropdown("hide")}};e.helpers=t,window.MyAMS&&(MyAMS.env.bundle?MyAMS.config.modules.push("helpers"):(MyAMS.helpers=t,console.debug("MyAMS: helpers module loaded...")))});