!function(a,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),a.modContainer=t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.container=void 0;var l=MyAMS.$,t={switchElementAttribute:function(){return function(d,a){MyAMS.require("ajax","alert","i18n").then(function(){var i=d.parents("td").first(),a=l("i",i),t=i.parents("tr"),e=t.parents("table"),s=l("thead th:nth-child(".concat(i.index()+1,")"),e),n=d.data("ams-location")||s.data("ams-location")||t.data("ams-location")||e.data("ams-location")||"";n&&(n+="/");var e=d.data("ams-update-target")||s.data("ams-update-target")||t.data("ams-update-target")||e.data("ams-update-target")||"switch-element-attribute.json",t=t.data("ams-element-name"),o=a.attr("data-original-title")||a.attr("title");a.tooltip("hide").replaceWith('<i class="fas fa-spinner fa-spin"></i>'),MyAMS.ajax.post(n+e,{object_name:t,attribute_name:s.data("ams-attribute-name")}).then(function(a,t,e){var n=l("i",i);"success"===a.status?(a.state?n.replaceWith('<i class="'.concat(s.data("ams-icon-on"),'"></i>')):n.replaceWith('<i class="'.concat(s.data("ams-icon-off"),'"></i>')),o&&(n=l("i",i)).addClass("hint").attr("data-original-title",o),a.handle_json&&MyAMS.ajax.handleJSON(a)):MyAMS.ajax.handleJSON(a)})})}},deleteElement:function(){return function(s,a){MyAMS.require("ajax","alert","i18n").then(function(){MyAMS.alert.bigBox({status:"danger",icon:"fas fa-bell",title:MyAMS.i18n.WARNING,message:MyAMS.i18n.CONFIRM_REMOVE,successLabel:MyAMS.i18n.CONFIRM,cancelLabel:MyAMS.i18n.BTN_CANCEL}).then(function(a){var n,i,t,e;"success"===a&&(t=s.parents("td"),n=t.parents("tr"),i=n.parents("table"),e=l("thead th:nth-child(".concat(t.index()+1,")"),i),(a=s.data("ams-location")||e.data("ams-location")||n.data("ams-location")||i.data("ams-location")||"")&&(a+="/"),t=s.data("ams-delete-target")||e.data("ams-delete-target")||n.data("ams-delete-target")||i.data("ams-delete-target")||"delete-element.json",e=n.data("ams-element-name"),MyAMS.ajax.post(a+t,{object_name:e}).then(function(a,t,e){"success"===a.status?(i.hasClass("datatable")?i.DataTable().row(n).remove().draw():n.remove(),a.handle_json&&MyAMS.ajax.handleJSON(a)):MyAMS.ajax.handleJSON(a)}))})})}}};a.container=t,window.MyAMS&&(MyAMS.env.bundle?MyAMS.config.modules.push("container"):(MyAMS.container=t,console.debug("MyAMS: container module loaded...")))});