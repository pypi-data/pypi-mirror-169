# 十一、物理攻击媒介

Gavin Watson，random storm 有限公司高级安全工程师

在前几章中，已经为攻击做好了准备。现在是真正有趣的时候了，进入目标，完成评估。社会工程的物理方面是一个充满高潮和低谷的肾上腺素过山车。这一章将帮助你充分利用现场有限的时间，希望你能逃脱而不被抓住。

### 关键词

翻垃圾箱；肩部冲浪；流氓接入点；道具和伪装；徽章和挂绳；1.开车紧跟

本章中的信息

利用电子邮件和电话攻击

主动收集信息

翻垃圾箱

肩部冲浪

摄影

接待区

公共区域

流氓接入点

道具和伪装

徽章和挂绳

尾随

开锁

一旦你进去了

## 介绍

前一章提供了一些关于如何执行基于电话的社会工程场景的实用建议。讨论了真实世界的例子，展示了它们在许多现代攻击中的持续有效性。

从电话开始的攻击通常会导致目标建筑的全面受损，而不仅仅是敏感信息的泄露。前一章介绍了作者为实现这一目标所使用的一些技术。然而，从物理上破坏建筑物的安全性并不止于此，还需要考虑许多其他因素。

本章的目的是提供一些关于身体攻击的实用建议，作为社会工程评估的一部分。主题包括通过分析接待区的主动信息收集技术。

将讨论该行业的各种工具，包括道具和伪装、假徽章和挂绳、RFID 和磁条复制、开锁。

## 基于电子邮件和电话攻击

[第 4 章](04.html)讨论了如何通过将攻击向量串联起来，在评估中有效利用时间；在一次攻击中披露的信息可以用来帮助下一次攻击。在许多评估中，这将是一个自然的过程，对建筑的物理攻击是基于所有以前已经完成的攻击的最后一个场景。

一旦电话和电子邮件攻击完成，就会有大量的信息需要处理。侦察应该已经揭示了所有员工、他们的职位和联系方式，以及关于公司本身的所有信息。人们已经看到，一个电话就可以安排一个通行证或一个会议室，而这可以在不踏足现场的情况下完成。然而，尽管这种攻击非常有效，但在安全性高于平均水平的企业中，它们可能会失败。如果客户有成熟且经过测试的安全控制，那么重点可能需要放在实际建筑本身的属性上。因此，电话和电子邮件攻击需要收集有助于破坏建筑物安全的信息，以及一旦达到目的会发生什么。

很明显，应该收集尽可能多的信息，但是如果计划攻击建筑，有一些基本的问题需要回答。这些是基本的安全问题，在这个列表中，它们是从外向内的。

还有其他可以模仿的分支吗？

附近还有其他企业吗？

场地有围栏保护吗，或者你能走到大门那里吗？

有带护栏的安全停车场吗？

是否有一名或多名保安？

场所外是否有保安办公室？

主接待处是否安全？

任何时候都有多少接待员在值班？

企业是否在建筑内实现 RFID 或磁条控制？

目标区域在哪一层？

哪些第三方企业与目标公司合作？

这些信息的大部分可以通过访问网站快速获得，但如果可以远程获得，那么风险就较小。此外，上述每一个都是一个单独的社会工程场景，用于识别企业的信息泄露漏洞。

为了证明收集上述信息是多么容易，考虑作者在物理评估前两天给目标企业的安全办公室打了一个电话:

| 目标 | “您好，xyzsecurity，我能为您做些什么？” |
| 你们 | “你好，我是切斯特分公司的史蒂夫。我正要去参加一个会议，但是我刚刚被告知我的通行证在你的大楼里不能用，是这样吗？我敢肯定，上次我在那里的时候，这招很管用。” |
| 目标 | “不，它不会让你进入接待处，但他们会让你进去，你不需要通行证就可以在里面走动。” |
| 你们 | "停车场的栅栏呢？" |
| 目标 | "还是老样子，他们会帮你接通。" |
| 你们 | “太好了，谢谢你。” |

这一信息不会导致立即破坏建筑，但它非常有用。事实上，我们打电话给保安办公室显然告诉我们，他们有一个保安，如果只是看摄像头。人们还发现，不与他们交谈就进入接待处需要通行证。有一个停车场，用栅栏保护着。最后，通行证不需要在里面走动的事实是关键的；如果可以进入，就意味着可以从一个部门到另一个部门，从一层楼到另一层楼自由移动，而不需要通行证，甚至不需要后门。这意味着潜在的攻击者可以从其中一个入口进入，并在里面自由活动。如果是这种情况，那么应该在评估期间的某个时候尝试一个尾随情景。

收集这些信息时，关注员工也很重要。正如第 8 章所讨论的，侦察和攻击也可能暴露关键信息，如员工徽章的设计和他们通常佩戴的挂绳的颜色。

## 主动信息收集

虽然可以远程安全地收集大量关于建筑物安全的信息，但实际访问现场将提供最深刻的见解。可能存在无法通过远程方式发现的物理安全控制和建筑属性。例如，一旦到达现场，可能会发现他们在夏天整天开着后门。至少可以说，远程识别这种物理漏洞是一项挑战。然而，这不仅仅是指令人痛苦的显而易见的物理漏洞，如敞开的门，还有大量的关键信息可以通过实际访问网站来收集，这些信息涉及目标企业、员工和物理安全控制。如上所述，在测试高安全性客户端时，可能绝对有必要包括物理侦察阶段，以填补远程侦察未能获得的缺失拼图。

### 翻垃圾箱

在这本书里，翻垃圾箱已经被简单地提到过几次，这并不奇怪，因为这是一项真正经典的技术。严格来说，翻别人的垃圾很难说是心理操纵的巅峰，但这不是行为本身，而是信息如何被利用。合法吗？这取决于目的，是居住还是商业，以及行为发生在哪个国家。带走垃圾是否被认为是盗窃是有争议的，但是如果垃圾被存放在公司的财产上，那么如果有人试图未经许可获取垃圾，肯定会有非法侵入的一面。然而，从社会工程评估的角度来看，应该允许执行这样的场景。

要考虑的第一个挑战是如何实际到达垃圾。如果已经决定在评估中包括这一点，可能是应客户的要求，则需要回答以下基本问题:

垃圾是否存放在安全的地方？

平均有多少垃圾？

垃圾是否分门别类？

该企业是否与其他企业共用垃圾桶？

垃圾箱本身是否以任何方式上锁或固定？

你能在不被发现的情况下把垃圾拿出去吗？

谁通常在什么时候收集垃圾？

为了回答这些问题，可以发起一系列电子邮件或电话攻击。例如，作为健康和安全检查员、垃圾收集公司或以某种方式与之交互的任何其他第三方打电话。可能会有一家专门的公司收集媒体或文档，以便安全处理。

如果这些问题中的一些能够被回答，那么你也许能够简单地走上去收集垃圾。例如，可能会发现在企业后面有没有任何类型的安全控制的箱子。晚上到达，偷偷把包带走检查可能是一个简单的任务。记住，把包拿走比花时间在现场仔细检查风险要小得多。

请记住，垃圾是在这里处理的，除非确切知道每个袋子里装的是什么，否则就做最坏的打算。佩戴重型安全手套、护目镜和合适的服装。不要跳进垃圾箱，只要把袋子干净地拿出来，并把它们运到场外合适的地方，在那里可以检查它们的内容。

如果垃圾区域是安全的，那么可能需要设计一个合适的借口来获得访问权。这就是关于谁通常获得访问权的侦察变得有用的地方。一个基本的场景可能是联系保安并冒充雇员。顾问警告保安人员，xyzgarbage 公司的检查员将到现场做一些基本检查。然后作为 xyzgarbage 检查员到达，唯一的挑战是说服保安需要独处，“*我有很多事情要做，我出去的时候再来看你好吗？*”。或者，工程师可以冒充一名员工，向保安人员解释一份重要文件被意外放入垃圾箱，他们是否可以进入该区域查看垃圾箱？

追求的是什么？许多书籍和文章都会详细讨论如何找到 USB 驱动器、硬盘驱动器、包含密码的纸片、网络图、包含员工名单的文档等。这是显而易见的东西，不应该真的需要一本书来阐明像这样的信息有多有用。如果作者能给出一条关于垃圾箱驾驶的实用建议，那就是考虑任何还不知道是有用的商业特定信息。是的，在便利贴上找到密码会很棒，但是不要忽略其他潜在的关键信息。例如，如何找到一份打印出来的某人已经扔进垃圾箱的电子邮件对话。对那次谈话的了解能被用来获得可信度吗？员工是否扔掉了一些包裹包装以及通常随附的收据？因为这将包含项目和交付的细节，这使得能够进行模拟；提供物品的商家或投递物品的快递公司。

重要的是，这是一个处理所有垃圾并仔细思考所发现的东西的案例。这是对已经拥有的信息的复制吗？如果不能，是否能以任何方式利用它？结果可能会非常有趣！

### 肩部冲浪

肩膀冲浪是另一种信息收集技术，通常被称为社会工程。然而，与翻垃圾箱类似，不是技术本身，而是收集的信息的使用方式。从最基本的意义上来说，肩部冲浪就是越过某人的肩膀看他们在做什么；打字、写作等。例如，员工可能会在同事键入密码时偷偷看一眼他们的键盘，或者在撰写电子邮件时看一眼显示器。

可以说，采用这种技术好处不大，因为已经可以进入目标建筑。在破坏了安全性之后，知道员工的密码可能会有一些用处，但是插入设备并远程攻击网络要容易得多。这是事实，但是员工并不“总是”在目标建筑内。例如，虽然这是一种非常耗时的游戏技术，但攻击者可以在当地的咖啡馆里用笔记本电脑对员工进行肩扛式冲浪。如果可以看到密码，就可以用它来访问公司的电子邮件。这可能会被用来发起网络钓鱼电子邮件攻击。

寻找密码是显而易见的，但请记住，社会工程师可能会使用任何信息来攻击业务。再次考虑咖啡馆的例子，攻击者还能看到什么？他们将能够看到操作系统版本、网络浏览器、他们正在使用的软件以及笔记本电脑的品牌和型号。这些都是非常有用的信息，可以帮助攻击者发起网络钓鱼攻击。了解所使用的软件可以缩小可能起作用的攻击范围。

### 摄影

当瞄准一个实体建筑时，拍照的想法似乎是一件明智的事情。在电影和电视节目中有许多这样的例子，一组专业人员秘密地拍摄目标建筑和相关员工。这在现代社会工程中有必要吗？可以预见的答案是，这取决于具体情况。一般来说，拍摄建筑物通常是没有必要的，因为快速访问谷歌地图街景将提供足够清晰的建筑物外部照片。如果无法获得在线照片，那么只有在报告中包含相关内容的情况下，才有必要花时间拍摄照片。事实是，客户知道他们的建筑是什么样子，他们每天都去那里。因此，包括一些外部照片对他们来说没什么用。但是，如果由于安全控制，很难靠近到足以拍照，那么这样做就证明了某些漏洞。从这个意义上说，拍摄照片的行为变得很重要。另一种需要包含建筑物照片的情况是它们指出了特定的弱点。例如，作者进行的一项特别评估揭示了一个用廉价的弹子锁固定的外门。门的上方有三个安装在杆子上的安全摄像头，没有一个覆盖到门或通向门的通道。这是一个明显的问题，所以照片被包括在内。

一旦进入建筑物，照片通常被用来“证明”进入目标。因此，可以对评估范围内限定的限制区域或特定物体进行拍照。但是，这是使用摄影来证明目标已经达到，而不是为了主动收集信息。

如果目标站点的安全性非常高，并且很可能被摄像头捕捉到，那么摄影对于制定特定的安全控制措施会非常有用。一旦确定了摄像头的位置、方向、品牌和型号，理论上就可以设计场景来避开它们。然而，这只有在计划一个“粉碎并攫取”方法时才是必要的，由此所有的活动都需要被转换。请记住，这种类型的场景是有风险的，只能识别少量的漏洞，可能无法反映客户的实际风险，应该总是在最后尝试。

在现场使用摄影的最佳方式之一是捕捉员工的图像，他们穿什么，他们有什么颜色的挂绳和他们的通行证。使用手机很容易做到这一点，只要记得把手机调到静音，因为拍照时的声音会很快泄露任何操作！正如在本书中多次提到的，吸烟区是一个与员工互动的好地方，可以最大限度地减少猜疑。由于这些区域的员工往往靠得很近，因此捕捉图像相当简单。

### 接待区

由于本书中已经讨论过的许多原因，接待员倾向于在社会工程评估上获得大量的关注。如果接待员可能受到威胁，那么破坏企业安全就变得非常容易。然而，这个概念应该延伸到接待区本身。一般来说，这是门卫室，任何员工、承包商或访客在被允许通过之前都要经过筛选和验证。因此，如果可以在接收区域本身找到基本的漏洞，它们可以在攻击场景中发挥巨大的作用。

有些情况下，作者在自己的社交媒体页面上发现了目标接受的图像。然而，侦察很可能不会揭示这一信息，获得这一信息的唯一途径是亲自到接待处。这是否意味着这些信息只能在执行实际场景时获得和使用？不，有很多原因可能会有人在接待处。例如，迷路了，只是简单地问路，或者甚至可能走错了路，尽管注意不要在实际攻击中使用同一个顾问，因为接待员很可能会认出他们。

只需几秒钟时间，您就可以环顾四周，注意到重要的安全特性。考虑注意以下事项:

招待会是否足够大，足够热闹，让你不被注意到？

有多少接待员？

是否有一名或多名保安？

有签到本吗？

接待员会给来访者什么？

接待处朝向哪个方向？你能神不知鬼不觉地进去吗？还是接待员会马上迎接你？

有多少扇门通向内部建筑？他们有什么访问控制？

如果还有其他的门，它们会开多久？

有楼梯间门吗？

有电梯吗？如果有，它有访问控制吗？

有等候区吗？

有公共接入终端吗？

是否有任何可见的网点？

有哪些认证控制？单人转弯模式，生物识别还是陷阱系统？

摄像头在哪里？他们包括访问控制还是只是接待？

这些听起来都是显而易见的事情，但令人惊讶的是，企业经常把这些简单的事情搞错。作者看到接待处的电梯旁有一扇 RFID 安全门，根本不需要认证。有人见过这样的接待，一个人能够从接待员的桌子后面进入，并在不被发现的情况下走上楼梯。有接待/等候区，有实时网络点可用。由于公共接入终端可以完全看到企业网络，安全漏洞已经成为可能。

永远不要低估接待区可能存在的漏洞，因为它们可能被利用来破坏网络的安全，甚至是建筑物本身的安全。

### 公共出入区

对于一个社会工程师来说，公共区域就像一个接待处，但几乎没有被质疑的风险。企业正在提供一个任何人都可以利用的服务领域。医院就是一个很好的例子。在大多数情况下，人们可以自由地走进餐厅或坐在各种等候区，而不会被询问。这些区域为该企业带来了非常严峻的安全形势。在理想情况下，该区域将被完全封锁，没有与实际公司网络的网络连接，也没有可用于攻击它的服务或可用信息。然而，这种情况很少发生，公共访问区域往往是等待攻击者利用的主要弱点。

在侦察方面，公共区域是攻击者潜在了解建筑布局的机会。理论上，他们可以呆在那个安全区域，监视禁区的所有入口，坐着观察接待员换班或保安离开的时间。

如前一节所述，公共接入区域通常有公共接入终端和网络点。希望网络点应该已经被禁用或物理上不可访问；攻击者肯定会检查他们是否有机会。至于公共接入终端，即使它们没有连接到公司网络，它们有重复使用的密码吗？也许公司网络上的高特权用户在该终端上重复使用本地管理员密码。终端本身是如何保护的？作者看到过这样的情况，终端被“固定”在一个小柜子里，柜子上有一个便宜且容易撬开的薄片锁。

攻击者可以轻而易举地撬开锁，以他们认为合适的任何方式篡改设备。如果他们有公共访问终端，请仔细考虑他们存储了什么信息，使用了什么连接。

### 流氓接入点

下一章将讨论可用作现场社会工程评估一部分的各种设备。这些将主要是可用于进行出站连接(后门)的设备。流氓接入点是实现这一点的一种方式。如果攻击者可以插入一个“流氓”无线接入点，他们就可以从一个安全的距离攻击网络，例如停车场，甚至更远的地方使用专业设备。然而，就远程收集信息的能力而言，在本章中值得一提的是流氓接入点。

攻击者可以在建筑物外设置一个接入点，而不是进入建筑物并安装一个流氓接入点。如果员工要连接到这个无线网络，他们的流量可能会被拦截并解析出包括密码在内的有用信息。攻击者将建立一个开放的无线网络，广播 SSID，如“OpenWifi”或“免费互联网接入”如果他们想针对 IT 部门的员工，他们可以启用 WEP 加密，希望更多的技术员工会尝试侵入并使用这些服务。

这种类型的攻击对没有无线网络的企业最为有效，无论是出于安全原因还是一般的实用性。在这样的企业中，员工通常希望能够将他们的智能手机或笔记本电脑连接到无线网络，供他们自己使用。因此，一个免费的无线网络将是非常诱人的。

有机会攻击连接到接入点的员工计算机。这是一种有效的技术，如果成功的话，它可以为公司网络提供一个立足点。例如，通过入侵员工的计算机，可以安装一个后门程序，当计算机连接到公司网络时，该程序会回叫。然而，这样的攻击场景开始偏离社会工程的重点。

这种技术可以被社会工程师用来收集用户名和密码。如果攻击者获得了员工电子邮件帐户等服务的访问权限，那么他们就可以发送非常有效的网络钓鱼电子邮件，并了解大量关于潜在目标的信息。员工访问的网站可能是非常有用的信息，会被用来对付他们。员工也有可能在公司服务上重复使用密码，这带来了严重的安全问题。

这种技术可以用于社会工程评估吗？一般来说，这是一个灰色地带，取决于评估是在公共部门还是私营部门进行，以及在哪个国家进行。这里的主要问题是攻击可能会收集员工的个人信息(如个人帐户密码),并可能违反 1998 年《人权法》等法案。访问员工的公司电子邮件帐户与访问他们的个人电子邮件帐户截然不同。

## 道具和伪装

道具和伪装经常出现在经过修饰的间谍电影和电视节目中。在现实世界中，装饰假胡子和厚眼镜来愚弄保安的想法是荒谬的。然而，每个专业社会工程师的工具箱里都应该有某些东西，尽管这个想法可能有多荒谬。

如果你的目的是在现场扮演一个角色，那么你显然需要看起来像个角色。正如前面几章所讨论的，模仿是指看起来、听起来和行为都和被模仿的角色一模一样。因此，任何社会工程工具包应该包含服装和物品，以适应各种不同的角色。这将是一切，从智能西装到工装裤，剪贴板，公文包，工具包等。花时间为假公司和真实存在的公司制作一系列制服，当然不是紧急服务！此外，想想更精细的细节，花钱把商标绣上去而不仅仅是印上去，如果合适的话，包括配套的棒球帽，甚至是印有公司名称的定制挂绳。

道具对获得可信度有很大帮助，但是请记住，它们必须被认为是辅助物品，而不是攻击的基础。不要创建一个基于向保安挥舞剪贴板的场景，以使访问看起来是正式的。这些项目是为了使模拟更有说服力，并获得更好的可信度，以便主场景可以执行，增加成功的机会。例如，如果要携带一个剪贴板，可以考虑打印一封假信，在顶部印上目标企业的标志。任何看到这个标志的旁观者都可能会立刻相信这个标志，甚至可能不去想它。

一个非常常见和俗套的组合是工人的高能见度背心和安全帽。这个想法是大多数人不会想到去质疑一个穿成那样的人。一个社会工程师可以和一个同事在目标地点走动，指着屋顶，在剪贴板上写字。任何旁观者都会认为他们在进行某种检查，而不会多想。这种技术现在已经相当过时了，大多数意识训练项目可能会涉及到它。如果计划使用这种模拟，那么仔细考虑一下细节。一个常见的错误是购买全新的高能见度背心和安全帽，这显得有些不寻常。有多少工人穿着朴素的衣服？当作者最初建立社会工程服装的衣柜时，他们用旧的替换了全新的高能见度背心和帽子。不幸的是，用过的东西散发着柴油味，但至少它们看起来是真的，因为它们确实是真的。如果没有别的，这种服装组合可以在翻垃圾箱时使用，因为任何有正当理由与垃圾打交道的人都会穿着类似的衣服，如果不是完全相同的话。

## 徽章和挂绳

我们已经在本章中提到了徽章和挂绳，但是由于它们在物理社会工程活动中占有如此重要的地位，它们应该有自己的部分。

员工徽章通常具有多种功能，如识别、认证和授权。徽章通常会显示个人的姓名、职位、部门、照片、企业名称、企业标志和其他杂项信息。徽章本身也可以配备 RFID 或磁条，并使员工能够验证自己通过某些物理安全控制。在安全的环境中，员工被告知要确保他们的徽章随时可见。承包商和访客可能会获得不同类型的徽章，可能具有非常不同的格式，或者他们的徽章可能只是从签到本上撕下的纸质临时徽章。

如前所述，偷拍当前使用的徽章并不困难。由于安全最佳实践鼓励员工保持其可见性，因此这项任务变得更加容易。经常发现的是，员工在上班、外出午餐或回家的路上继续佩戴徽章。因此，一个社会工程师有机会创造一个假徽章来获得可信度，并使模仿更有说服力。所有需要的是一个基本的照片编辑软件包和一个非常令人信服的副本可以创建。请记住，员工徽章通常只是一个标志(可以从网上获得)、一张照片(可以在本地复制)和几行文字。如果计划是执行一个场景，其中涉及一个来自另一个分支机构的雇员的模仿，那么假通行证可能是证明身份所需要的全部。

显然，伪造的通行证不会提供 RFID 或磁条的身份验证优势，因此在这种情况下需要考虑这一点。如果把通行证举到读者面前，什么也没发生，试着耸耸肩，对后面的人说，它又出问题了。他们会就此挑战某人吗？可能不会，尤其是如果传球看起来很有说服力，而且你看起来对这种情况很愤怒。

有一些设备可以克隆磁条或重放 RFID 令牌的信号。然而，这些设备的使用超出了本书的范围。此外，请仔细考虑要证明什么以及如何实现。如果已知客户的特定 RFID 实现使用可以重放甚至克隆的通行证，那么可能需要的只是通知客户。然后，他们可以权衡完全更换身份认证系统的风险和成本，而无需经历复杂的社会工程场景。

有一种倾向是读了上面的内容，然后决定让所有的员工都把徽章反着戴，所以只有那个毫无特色的卡座在展示。作者已经在实践中看到了这一点，这当然是愚蠢的，因为社会工程师甚至不需要制作一个假徽章，他们只需要把一个空的卡座倒戴着。最好的防御措施是根据员工的职位或部门配备不同格式的徽章和不同颜色的挂绳。这意味着一个社会工程师将不得不决定哪种颜色或格式适合哪个部门，否则就有可能脱颖而出。

## 1.开车紧跟

尾随是一种有趣的技术，也是现实世界的攻击者和专业安全顾问经常使用的技术。基本前提是，在员工通过 RFID 等物理安全控制认证时，紧跟在他们后面，以利用他们的访问权限。我们大多数人在社交上习惯于为后面的人开门，以示礼貌。如果门没有开着，后面的人可能会被冒犯。如果只是不把门开着就能得罪人，那么让这个人证明自己的身份会有什么后果呢？

可以通过各种方式来增强这种效果，比如在电话里假装吵架，拿着一个明显很重的东西，甚至拄着拐杖出现。任何可以让个人不想挑战的事情都是好的。

一家企业“有可能”再次捍卫尾随，但这并不容易。两位作者曾与一些客户合作，这些客户威胁员工，如果他们不顾另一个人的等待而不随手关门，就会受到纪律处分，最终基本上是一排人轮流开关他们身后的门。这种方法看似有效，但只针对短期游戏攻击场景。所有员工都完全了解这个程序，但新的第三方承包商和访客却不了解。如果攻击者能够发现这样的承包商或访问者何时到达，他们就可以尾随其后。此外，一名社会工程师可能以访客身份到达，一名同事紧随其后。

还有其他更昂贵的解决方案，如单人十字转门或终极陷阱认证系统。这些物理安全控制是专门为防止尾随而设计的。例如，对于人诱捕器，个人必须被认证一次才能进入通常只能容纳一个人的小空间。然后，它们被“困”在隔离舱中，直到第二次被认证。一些系统实际上会给个人的身份验证信息分配一个权重，以确保他们不会真的带着其他人通过系统。虽然这些系统防止尾随跟踪，但它们也不是没有漏洞。例如，作者已经看到了人陷阱系统，它允许使用同一张卡多次进入系统，而不是必须先离开。这意味着有效的通行证可用于允许多个个人通过。

另一个可能的解决方案是在每个入口和出口指派保安。然而，这是一个昂贵的选择，可以通过简单的转移注意力技术来规避。

在本书中，跟踪已经作为一种在评估结束时使用的技术被提到过几次。这样做的原因是，跟风可能非常危险，尤其是如果没有令人信服的证书或一个好的封面故事。无论付出多少努力来阻止来自员工的挑战，它仍然很容易发生。因此，通过在测试开始时执行基于跟踪的场景，您可能会危及整个评估。尾随是一项重要的技术，但应该在最后尝试。

作者们知道安全公司会围绕尾随进行全面评估。例如，客户会说，每年都有一群顾问在大楼里走来走去，试图进入大楼。这对客户有“一些”价值，但正如本书多次强调的，这应该只是与客户的实际风险相一致的许多技术中的一种。因此，除非客户的主要风险来自公众尾随进入大楼并从他们那里偷窃，否则这种技术应该是评估的补充，而不是评估的基础。

尾随无疑是一种强大的技术，企业将在一段时间内努力防止这种技术。然而，作为一名评估者，要仔细考虑尝试了哪些漏洞，以及跟踪如何适应整体方法。

## 开锁

起初，开锁并不包括在这本书里，因为这个主题已经被像越轨的奥拉姆这样的作者在诸如《实用开锁》和《王国的钥匙》这样的书里全面而优雅地涵盖了。毫无疑问，如果计划是闯入一栋大楼或大楼内的办公室，那么撬锁这样的技能确实非常有用。然而，我们并没有试图将大量的材料浓缩到几页中，而是决定提供一个在社会工程场景中使用撬锁的实用性。

首先也是最重要的，撬锁会“潜在地”损坏一把锁。在绝大多数情况下，损坏不会影响锁，但机会总是存在的。因此，将这一点包括在与客户交往的规则中是很重要的。他们需要意识到风险，无论多小，并决定是否可以使用这项技术。这一点的重要性变得非常明显，一个特定的客户从一开始就规定，在任何情况下都不能试图撬锁。当询问原因时，客户说以前的顾问在没有通知他们的情况下使用了这些技术。这些顾问没有意识到的是，如果任何一把锁损坏了，必须更换，那么其他每把锁也需要更换。在这种特殊情况下，这样做的成本是巨大的。因此，避免了进行任何撬锁的尝试，但是作为评估的一部分，建议在某些区域进行额外的安全控制，因为真正的攻击者不会关心锁是否被损坏。

当考虑使用撬锁工具进入建筑物时，例如外门，一定要非常小心！重要的是要考虑门的另一边有什么是已知的。想象一下，成功撬开锁，进入一个挤满人的办公室，所有人都转过头来看。一个显而易见的解决方案是在晚上进行撬锁，尽管以这种方式进行评估有其自身的风险。例如，把一封“免于牢狱之灾”的信交给警察而不是一个雇员怎么样？此外，真正的攻击者可能只是打破窗户或强行开门，这通常超出了大多数评估的范围。

开锁的最佳用途当然是在建筑物内部。大多数橱柜、碗柜和抽屉都用廉价的晶片锁固定，大多数(如果不是全部的话)可以在几秒钟内轻松绕过。请记住，他们的目标可能是获取敏感文件的证据，在这种情况下，获得文件柜的访问权限可能是必不可少的。当然，场景可以被设计成让员工心甘情愿地打开柜子或取回文件，撬锁只是一个可用的选择。

办公室的内门通常是弹子锁，虽然比对夹锁更难撬开，但通常不会有太大的挑战。

面临的最大挑战是不知道开锁需要多长时间。这可能需要几秒钟、几分钟，甚至更长时间。此外，当有人蹲下摆弄锁时，如果有人看到他们，他们很可能会很快引起怀疑。因此，只有在有足够的把握不被发现的情况下，才尝试开锁。有时，如果不小心被发现，然后解释他们是锁匠，客户丢失了钥匙，运气好的话就足够了。

## 一旦你进去了

有时目标可能很简单，仅仅是进入大楼或某个特定的限制区域。在这些情况下，大多数场景将集中在实现目标的各种方式上。然而，在许多情况下，进入建筑物只是评估的开始。客户可能很想探索其他领域，如员工如何容易受到现场攻击者的社交工程的影响，或者写在纸片上的密码是否真的会带来重大风险。这就是需要将多个场景串联在一起并无缝地从一个场景执行到另一个场景的地方。如果有机会，总是有可能改变策略或创造新的场景，但要注意坚持客户的目标和实际风险。

作者的目标是通过获取密码或让他们登录，进入目标建筑并登录员工的工作站。我们进入了大楼，从一个部门到另一个部门，尝试了一系列非常简单的场景。我们找到一名员工，向他解释说我们正在与 IT 部门合作，试图跟踪他们遇到的一些问题。除非我们被进一步询问，否则我们保持它相当模糊。我们问是否有任何工作站或热办公桌可用。当我们坐下来尝试登录时，我们找到了同一名员工，向他解释说 IT 部门提供的凭据无效，他们可以帮我们登录吗？再加上礼貌的态度和诸如“*很抱歉再次打扰你……*”之类的话语，员工们非常乐意帮忙。在这一点上，如果我们是真正的攻击者，我们可以自由地攻击网络或安装后门。当我们从一个部门转移到另一个部门时，我们会尝试不同的场景来识别不同的漏洞。

请记住，一旦进入大楼，这本身就提供了一定的可信度。与“认证链”的工作方式非常相似，员工认为接待处已经对来访者进行了筛选。

可以认为，进入建筑物的场景和针对现场员工的场景可以分开。但是，评估通常只需要两到三天的时间，其中可能包括侦察和远程攻击。因此，除非客户有预算来应对一次攻击，否则可能别无选择，只能一起执行所有现场攻击。

一旦进入大楼，如果有必要的话，找一个“安全的避难所”是一个好主意，这样可以清点库存，为下一个场景做准备。这可以是一个空的会议室，一个食堂，或者如果情况足够糟糕，浴室总是可以使用的。例如，假扮成电气工程师进入大楼，然后去洗手间换上智能套装。下一个场景可能基于内部审计或作为业务的新开端。一个相对安全的区域，如会议室，可以用来准备甚至攻击网络，只要网络点是活动的。如果有人进入房间，简单地道歉，解释说你当时认为它是免费的。食堂总是一个准备进场的好地方，因为这些区域会定期看到来自员工、游客和承包商的交通，所以你不太可能受到挑战。

## 摘要

物理攻击媒介通常是整个社会工程评估的重要部分。通常，远程电子邮件和电话攻击会泄露用作物理攻击基础的信息。将所有的攻击媒介串在一起是有效利用时间的好方法，可以增加物理攻击的成功几率。

本章介绍了攻击者最常用的“主动信息收集”技术。这些技术有时会导致在没有任何事先侦察的情况下损害安全性。

对一家公司实现物理攻击显然需要顾问亲临现场。因此，任何模仿的尝试都变得更加复杂，可能需要视觉道具、伪装和凭证。为了进行有效的评估，应获得全套服装、道具、挂绳、徽章和证书。

下一章将继续物理攻击媒介的主题，包括可用于支持场景的各种设备。

