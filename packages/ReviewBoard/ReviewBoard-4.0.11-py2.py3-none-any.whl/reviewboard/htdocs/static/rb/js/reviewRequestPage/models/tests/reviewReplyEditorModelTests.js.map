{"version":3,"file":"reviewReplyEditorModelTests.js","names":["suite","reviewReply","review","editor","beforeEach","RB","Review","loaded","links","replies","href","createReply","spyOn","and","callFake","options","context","ready","call","success","describe","ReviewRequestPage","ReviewReplyEditor","contextType","text","it","callThrough","ReviewReply","set","expect","listenTo","calls","count","toEqual","argsFor","_listeningTo","hasOwnProperty","_listenId","toBe","testBodySave","richText","save","get","textAttr","richTextAttr","toHaveBeenCalled","trigger","toHaveBeenCalledWith","testCommentSave","hasDraft","model","prototype","replyObject","DiffCommentReply","not","resetStateIfEmpty","testSave","FileAttachmentCommentReply","GeneralCommentReply","ScreenshotCommentReply","destroy","_resetState"],"sources":["reviewReplyEditorModelTests.es6.js"],"sourcesContent":["suite('rb/reviewRequestPage/models/ReviewReplyEditor', function() {\n    let reviewReply;\n    let review;\n    let editor;\n\n    beforeEach(function() {\n        review = new RB.Review({\n            loaded: true,\n            links: {\n                replies: {\n                    href: '/api/review/123/replies/',\n                },\n            },\n        });\n\n        reviewReply = review.createReply();\n\n        spyOn(review, 'ready').and.callFake(\n            (options, context) => options.ready.call(context));\n\n        spyOn(reviewReply, 'ensureCreated').and.callFake(\n            (options, context) => options.success.call(context));\n\n        spyOn(reviewReply, 'ready').and.callFake(\n            (options, context) => options.ready.call(context));\n    });\n\n    describe('Event handling', function() {\n        describe('reviewReply changes', function() {\n            beforeEach(function() {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'body_top',\n                    review: review,\n                    reviewReply: reviewReply,\n                    text: 'My Text',\n                });\n            });\n\n            it('Sets up events on new reviewReply', function() {\n                spyOn(editor, 'listenTo').and.callThrough();\n\n                const reviewReply = new RB.ReviewReply();\n                editor.set('reviewReply', reviewReply);\n\n                expect(editor.listenTo.calls.count()).toEqual(2);\n                expect(editor.listenTo.calls.argsFor(0)[1]).toEqual('destroyed');\n                expect(editor.listenTo.calls.argsFor(1)[1]).toEqual('published');\n            });\n\n            it('Removes events from old reviewReply', function() {\n                editor.set('reviewReply', new RB.ReviewReply());\n\n                expect(editor._listeningTo.hasOwnProperty(reviewReply._listenId))\n                    .toBe(false);\n            });\n        });\n    });\n\n    describe('Methods', function() {\n        describe('save', function() {\n            function testBodySave(options) {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: options.contextType,\n                    review: review,\n                    reviewReply: reviewReply,\n                    richText: options.richText,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(reviewReply, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                expect(editor.get('replyObject')).toBe(reviewReply);\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('text')).toBe('My Text');\n                expect(editor.get('richText')).toBe(true);\n                expect(reviewReply.get(options.textAttr)).toBe('My Text');\n                expect(reviewReply.get(options.richTextAttr)).toBe(\n                    options.richText);\n                expect(reviewReply.ready).toHaveBeenCalled();\n                expect(reviewReply.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            }\n\n            function testCommentSave(options) {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: options.contextType,\n                    hasDraft: false,\n                    review: review,\n                    reviewReply: reviewReply,\n                    richText: options.richText,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(options.model.prototype, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(options.model.prototype, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                const replyObject = editor.get('replyObject');\n\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('text')).toBe('My Text');\n                expect(editor.get('richText')).toBe(true);\n                expect(replyObject instanceof options.model).toBe(true);\n                expect(replyObject.get('text')).toBe('My Text');\n                expect(replyObject.get('richText')).toBe(options.richText);\n                expect(options.model.prototype.ready).toHaveBeenCalled();\n                expect(options.model.prototype.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            }\n\n            it('With existing reply object', function() {\n                const replyObject = new RB.DiffCommentReply();\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    hasDraft: false,\n                    replyObject: replyObject,\n                    review: review,\n                    reviewReply: reviewReply,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(replyObject, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(replyObject, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('replyObject')).toBe(replyObject);\n                expect(replyObject.get('text')).toBe('My Text');\n                expect(replyObject.ready).toHaveBeenCalled();\n                expect(replyObject.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            });\n\n            it('With empty text', function() {\n                const replyObject = new RB.DiffCommentReply({\n                    text: 'Orig Text',\n                });\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    review: review,\n                    reviewReply: reviewReply,\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(editor, 'resetStateIfEmpty');\n                spyOn(replyObject, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(replyObject, 'save');\n\n                editor.set({\n                    hasDraft: false,\n                    replyObject: replyObject,\n                    text: '',\n                });\n                editor.save();\n\n                expect(editor.get('hasDraft')).toBe(false);\n                expect(editor.get('replyObject')).toBe(replyObject);\n                expect(replyObject.get('text')).toBe('Orig Text');\n                expect(replyObject.ready).toHaveBeenCalled();\n                expect(replyObject.save).not.toHaveBeenCalled();\n                expect(editor.resetStateIfEmpty).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n            });\n\n            describe('With body_top', function() {\n                function testSave(richText) {\n                    testBodySave({\n                        contextType: 'body_top',\n                        textAttr: 'bodyTop',\n                        richTextAttr: 'bodyTopRichText',\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With body_bottom', function() {\n                function testSave(richText) {\n                    testBodySave({\n                        contextType: 'body_bottom',\n                        textAttr: 'bodyBottom',\n                        richTextAttr: 'bodyBottomRichText',\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With diff comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'diff_comments',\n                        model: RB.DiffCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With file attachment comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'file_attachment_comments',\n                        model: RB.FileAttachmentCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With general comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'general_comments',\n                        model: RB.GeneralCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With screenshot comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'screenshot_comments',\n                        model: RB.ScreenshotCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n        });\n\n        describe('resetStateIfEmpty', function() {\n            let replyObject;\n\n            beforeEach(function() {\n                replyObject = new RB.DiffCommentReply();\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    hasDraft: true,\n                    replyObject: replyObject,\n                    review: review,\n                    reviewReply: reviewReply,\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(replyObject, 'destroy').and.callFake(\n                    (options, context) => options.success.call(context));\n            });\n\n            it('Without empty text', function() {\n                editor.set('text', 'My Text');\n                editor.resetStateIfEmpty();\n\n                expect(replyObject.destroy).not.toHaveBeenCalled();\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.trigger).not.toHaveBeenCalledWith('resetState');\n            });\n\n            describe('With empty text', function() {\n                it('With no reply object', function() {\n                    editor.set('replyObject', null);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).not.toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                it('With new reply object', function() {\n                    replyObject.set('id', null);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).not.toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                it('With existing reply object', function() {\n                    replyObject.set('id', 123);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                describe('With context type', function() {\n                    beforeEach(function() {\n                        replyObject.set('id', 123);\n\n                        spyOn(editor, '_resetState');\n                        spyOn(reviewReply, 'discardIfEmpty');\n                    });\n\n                    it('body_top', function() {\n                        editor.set('contextType', 'body_top');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).not.toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith(true);\n                    });\n\n                    it('body_bottom', function() {\n                        editor.set('contextType', 'body_bottom');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).not.toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith(true);\n                    });\n\n                    it('diff_comments', function() {\n                        editor.set('contextType', 'diff_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('file_attachment_comments', function() {\n                        editor.set('contextType', 'file_attachment_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('general_comments', function() {\n                        editor.set('contextType', 'general_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('screenshot_comments', function() {\n                        editor.set('contextType', 'screenshot_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n                });\n            });\n        });\n    });\n});\n"],"mappings":"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"}